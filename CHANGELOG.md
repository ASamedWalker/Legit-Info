# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic 
Versioning](https://semver.org/spec/v2.0.0.html).

Initial entries generated by: gitchangelog

## [2.2.0] - 2020-11-11

* Created weekly.sh script to be used for cron job [Tony Pearson]
* Updated CRON.md and FOB.md documents [Tony Pearson]

## [2.1.7] - 2020-11-08

* Created BillDetail class used by extract_files [Tony Pearson]
* Split fob_storage methods to fob_helper [Tony Pearson]
* Split word_map.py from analyze_text [Tony Pearson]
* Renamed PDFtoTEXT to pdf_to_text to comply with Python style [Tony Pearson]

* Issue #35: widen TextField areas for cfc_app_law [Tony Pearson]
* Issue #31: Created tests_show.py to validate unit test 
  methodology [Tony Pearson]

## [2.1.6] - 2020-11-01

* New LogTime class to issue consistent starting/ending messages [Tony Pearson]
* Added check_python to invoke pylint, autopep8, flake8 [Tony Pearson]
* Added TROUBLESHOOT.md for debug, testing and troubleshooting hints and 
  tips [Tony Pearson]
* Added KeyCounter class to evaluate quality of text files [Tony Pearson]

* Issue #45 Updated CONTRIBUTING.md with pipenv instructions [Tony Pearson]
* Issue #39 New field cfc_app_law cite_url to hold source [Tony Pearson]
* Issue #33 Increase key size to 25 chars in cfc_app_law database table, and 
  restructured keys to have bill numbers right-justified with zeros, so that
  sorting is now consistent in both the File/Object Storage and the displays
  on Django admin panel [Tony Pearson]
* Issue #32 support verbosity levels in customized commands [Tony Pearson]

## [2.1.5] - 2020-10-29


* Moved load_defaults function from views.py to models.py [Tony Pearson]
* Added Open Source library NLTK to have full sentences on each line of
  extracted text [Tony Pearson]
* Call getBillText if state_link broken [Tony Pearson]

* Issue #43 Source files for US cities and counties, and added CC40-LICENSE 
  for use of this data [Tommy Adams]
* Issue #42: Save JSON files from Legiscan using indent=2 pretty 
  format [Tony Pearson]
* Issue #41: Activated Django Python logging, with support for new OS 
  environment variables CFC_DEBUG, CFC_LOGLEVEL_{prod/dev} [Tony Pearson]
* Issue #36: Re-wrote legiscan_api.py to use Legiscan.com bulk-data 
  getDatasetList and getDataSet calls, to reduce API traffic, versus 
  getMasterList and GetBillText which consumed thousands of calls per 
  state [Tony Pearson]

## [2.1.4] - 2020-10-25

* Add support for United States federal legislation [Tony Pearson]
* Updated DESCRIPTION.md and related screenshots in /docs folder [Tony Pearson]
* Renamed scan_json to extract_files, get_api_data to 
  get_datasets [Tony Pearson]


## [2.1.3] - 2020-10-22

* Python script to extract location from bill [Tommy Adams]
* Created cfc_app_hash to contain hashcodes to check which datasets and
  legislation have changed since last week [Tony Pearson]
* New docs/STYLE.md to document Python coding standards [Tony Pearson]
* Created DataBundle class to handle API requests consistently [Tony Pearson]

## [2.1.2] - 2020-10-21

* Fetch PDF/HTML source files directly from state websites, rather than
  consuming thousands of Legiscan API GetBillText API calls [Tony Pearson]
* Created cfc-seed.json Django fixture to pre-populate database [Tony Pearson]
* Updated analysis and data cleaning sections. [Shilpi Bhattacharyya]
* Updates to DESCRIPTION.md documentation

* Issue #28: Added fob_sync and fob_stats commands for File/Object 
  Storage [Tony Pearson]

## [2.1.1] - 2020-10-19

* Added legiscan_id column to cfc_app_location for states [Tony Pearson]
* CRON.md and FOB.md moved to /docs directory [Tony Pearson]
* Added IBM_NLU.md documentation of IBM Watson usage [Shilpi Bhattacharyya]
* Contributing Guidelines  Signed-off-by: [John Walicki]


## [2.1.0] - 2020-10-18

* README.md signed off [John Walicki]
* Added support for "None" in Impacts to designate legislation that does not
  match the other impacts specified [Tony Pearson]
* Installed xlml, html5lib, BeautifulSoup4 libraries for HTML
  parsing [Tony Pearson]
* Installed PDFminer.six, and created PDFtoTEXT.py class [Tony Pearson]
* Re-wrote legiscan_api.py as class [Tony Pearson]
* Created sources/wordmap.csv to translate NLU concepts to select impact
* Changed "CFC App" to new name "Legit-Info" approved by 
  IBM Legal [Tony Pearson]
* Added File/Object Storage (FOB) abstraction layer between file system and 
  IBM Cloud Object Storage [Tony Pearson]

* Issue #23 renamed fixpoldb to cfcappdb [Tony Pearson]
* Issue #23 Github moved and renamed to 
  https://github.com/Call-for-Code-for-Racial-Justice/Legit-Info [John Walicki]

## [2.0.1] - 2020-10-14

* Created CRON.md documentation [Uchechukwu Uboh]
* Update .gitignore to prevent uploads of Legiscan JSON files [Uchechukwu Uboh]

## [2.0.0] - 2020-10-12

* analyze_text.py to invoke IBM Watson Natural Language Understanding (NLU) 
  service [Shilpi Bhattacharyya]
* Created legiscan_api.py for cron job to invoke Legiscan.com 
  API [Uchechukwu Uboh]
* renamed Django "fixpol" application directory to "cfc_app"

* Issue #23 Renamed from "Fix Politics" to "CFC APP", for now, until new 
  name approved by IBM legal [Tony Pearson]
* Issue #22 BSD License added  [Yolanda Rabun]
* Issue #21 Use of Legiscan API approved by IBM Legal [Yolanda Rabun]

## [1.1.0] - 2020-08-29

* Updated architecture diagram [Tony Pearson]
* Changed README.md to comply with Starter Kit format [Tony Pearson]
* Updated DESCRIPTION.md [Tony Pearson]
* Improved comments in the code, eliminating Flake8 errors [Tony Pearson]
* Added favicon graphic [Tony Pearson]

* Issue #19 Update README.md to list all OS environment 
  variables used throughout the application [Tony Pearson]
* Issue #17 Document how to setup Postgresql v10 on local system [Tony Pearson]
* Issue #16 Document proper SQlite3 to Postgresql database migration 
  process [Tony Pearson]
* Issue #13 Crash on search if "search_id" has duplicate entry, resulting
  from the manner the databases were copied over from SQLite3 to Postgresql

## [1.0.0] - 2020-08-16

* Renamed scripts: run to stage1, and run-pg as stage2 [Tony Pearson]
* Updated README.md [Tommy Adams]
* Updated STAGE1.md, STAGE2.md STAGE3.md deployment strategy [Tony Pearson]
* Refactored fixpol/views.py [Tony Pearson]

## [0.7.0] - 2020-08-13

* Eliminate crash from duplicate criteria key. [Tony Pearson]

* Show hierarchy in search and location pages [Tony Pearson]
* Updates to README.md [Tommy Adams]

* Issue #15 Create staff-level id. Django supports this already [Tony Pearson]
* Issue #14 Added "Admin" tab for staff [Tony Pearson]
* Issue #12 Pull-down for locations sorted in hierarchy order
* Issue #11 Email now provides generated date on both TEXT and HTML
  formats [Tony Pearson]
* Issue #9 Do not show "world" on end-user location list
* Issue #7 Tolerate if EMAIL_HOST environment variable not set [Tony Pearson]
* Issue #5 Added support for Postgresql [Tony Pearson]
* Issue #4 Pull-down for locations sorted alphabetically

## [0.6.0] - 2020-08-12

* Updated README.md for directions on Mailtrap.io usage [Tommy Adams]
* Added tekton pipeline, perfomed Django colectstatic, fixed psycopg2 
  errors [Jermaine Edwards]
* Added port-forward.sh, run and run-pg scripts based on USE_SQLITE3
  environment variable [Tony Pearson]

## [0.5.0] - 2020-08-11

* Environment variable USE_SQLITE3 to select database to use [Tony Pearson]
* Added Kubernetes and Docker support, including new /health route to test 
  IBM Cloud deployment [Jermaine Edwards]
* Added "Download CSV" with /results directory [Tony Pearson]
* Common Table Expression (CTE) query for ancestor-based search
  of locations [Tony Pearson]
* Issue #3 EMAIL_HOST set from environment variable [Tony Pearson]


## [0.4.0] - 2020-08-09

* Added email support, tested with mailtrap.io [Tony Pearson]
* Added /backups directory for database backups [Tony Pearson]
* Used Bootstrap4 to make panels "Responsive UI" [Tony Pearson]
* Profile search based on defaults from user profile [Tony Pearson]
* Added key to fixpol_law table [Tony Pearson]


## [0.3.0] - 2020-08-07

* New color scheme for UI panels [Beth Morgan]
* Switched from venv to pipenv virtual Python environment: Pipfile, 
  Pipfile.lock and requirements.txt [Tony Pearson]
* Created criteria model, search and results pages [Tony Pearson]
* Criteria added to user profile [Tony Pearson]
* Updates to README.md documentation [Tommy Adams]

## [0.2.0] - 2020-08-04

* Created Django app (users) for user profile, with update.html [Tony Pearson]
* Added sign-in/sign-out as alternative to "anonymous search" [Tony Pearson]
* Created base.html as standard template for all HTML files [Tony Pearson]
* Created docs/ directory, and screenshots of current GUI [Tony Pearson]

## [0.1.0] - 2020-07-31

* Created Django environment (cfc_project, fixpol) [Tony Pearson]
* Created Django models for location and impacts [Tony Pearson]
* Created initial "index.html" [Tony Pearson]
* Created Dockerfile, run and build scripts [Matthew Perrins]

